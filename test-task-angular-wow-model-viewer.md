# Тестовое задание: мини-армори на Angular + Wow Model Viewer

> Цель — за 1–2 вечера собрать прототип окна персонажа в стиле армори: 3D-модель с надетыми предметами, слоты экипировки по бокам и всплывающие характеристики предметов.

---

## 1) Результат, который мы хотим увидеть

- Приложение на **Angular ≥ 17** (желательно с **Signals**) и **TypeScript strict**.
- На экране — **окно персонажа**:
  - По центру — **3D-модель** персонажа, на которую **надеты** предметы.
  - Слева/справа — **список слотов** экипировки (иконки слотов/предметов, как на референс-картинке).
  - **Наведение на слот/предмет** показывает **статистики/подсказку** предмета (tooltip).
- Данные берём из **локального JSON** (база данных не требуется).
- Подсказки/информация о предметах — через **Wow Model Viewer** с источником данных **wow.zamimg.com**.
- Код в **публичном репозитории** с историей коммитов.

Референсы:
- Пример раскладки слотов: скриншот в задаче и страница персонажа на Warmane: <https://armory.warmane.com/character/Iamfreezler/Blackrock/summary>  
- Подсказки/визуал предметов: **Wow Model Viewer** + **wow.zamimg.com**.
- Справочник предметов:  
  - Wowhead WotLK RU: <https://www.wowhead.com/wotlk/ru>  
  - Структура item_template: <https://www.azerothcore.org/wiki/item_template>
- Репозиторий вьювера: <https://github.com/Miorey/wow-model-viewer>

---

## 2) Минимальные требования (MVP)

- [ ] Angular 17+ (Standalone Components; **без** NgModules допускается).  
- [ ] **Signals** для состояния (например, текущий персонаж, выбранный слот, загруженный предмет).  
- [ ] Импорт и инициализация **wow-model-viewer**; отображение **3D-модели**.  
- [ ] Надевание предметов на модель (по данным JSON).  
- [ ] Слоты экипировки по бокам (как на картинке: голова, шея, плечи, плащ, грудь, рубашка, табард, запястья; перчатки, пояс, штаны, ботинки, кольца ×2, аксессуары ×2, оружие(я)/щит/лев.рука и т.п.).  
- [ ] **Tooltip** по наведению на слот/предмет с базовыми статами (name, quality, ilvl, основные статы/эффекты).  
- [ ] Данные берутся из **`/assets/character.json`** (или похожего пути), **без БД**.  
- [ ] README по запуску.

---

## 3) Данные (пример JSON)

Создайте файл `assets/character.json` с упрощённой структурой, например:

```json
{
  "name": "Iamfreezler",
  "race": "troll",
  "gender": "male",
  "class": "shaman",
  "appearance": { "skin": 2, "face": 4, "hair": 3, "hairColor": 1, "features": 0 },
  "items": {
    "HEAD":    { "id": 40510, "enchant": 3817, "gems": [41398, 40003] },
    "NECK":    { "id": 44661 },
    "SHOULDER":{ "id": 40513, "enchant": 3808, "gems": [39999] },
    "BACK":    { "id": 40403, "enchant": 3831 },
    "CHEST":   { "id": 40508, "enchant": 3832, "gems": [40053, 40123, 40014] },
    "WRIST":   { "id": 40302, "enchant": 3845 },
    "HANDS":   { "id": 40504, "enchant": 3222, "gems": [40089] },
    "WAIST":   { "id": 40205, "gems": [40008, 40008, 40008] },
    "LEGS":    { "id": 40512, "enchant": 3823, "gems": [40086, 39996] },
    "FEET":    { "id": 40549, "enchant": 3232 },
    "FINGER1": { "id": 40075 },
    "FINGER2": { "id": 40474 },
    "TRINKET1":{ "id": 40684 },
    "TRINKET2":{ "id": 40256 },
    "MAINHAND":{ "id": 40384, "enchant": 3789 },
    "OFFHAND": { "id": 40400 },
    "RANGED":  { "id": 40265 }
  }
}
```

> **Примечание:** айдишники условные; можно взять реальные ID из Wowhead. Структура может отличаться, главное — понятная схема и соответствие слотам.

---

## 4) UI/UX требования

- Адаптивная вёрстка на один экран.
- Слоты — в виде колонок слева/справа (пустой слот — серый плейсхолдер с иконкой типа слота).
- Наведение на слот:
  - Если предмет надет — показываем tooltip с данными предмета.
  - Если предмета нет — подсказка «пустой слот».
- Ошибки загрузки данных/картинок — аккуратные заглушки.

---

## 5) Интеграция Wow Model Viewer (подсказки)

- Используйте репозиторий: <https://github.com/Miorey/wow-model-viewer>.
- Допустимые пути интеграции (любой из вариантов):
  1. **Подмодуль/локальная сборка** библиотеки и импорт в Angular.
  2. Подключение скриптов как внешних ресурсов и работа через предоставленный API.
- Для **tooltip** и статов воспользуйтесь источником данных **wow.zamimg.com** (который использует Wowhead-данные). В репозитории вьювера есть примеры, как формировать ссылки/запросы к замимгу.  
- **Кэширование/дебаунс** запросов — плюс к оценке.

---

## 6) Технические требования к проекту

- Angular 17+, Standalone Components, **Signals** (например, `signal()` для состояния персонажа и выбранного слота).
- TypeScript strict, ESLint + Prettier.
- Разрешено использовать:
  - Angular Router (необязательно).
  - RxJS (точечно).
  - Любую UI-библиотеку/иконки (по желанию).
- **Без** серверной части и БД — всё локально.

---

## 7) Критерии приёмки (Checklist)

- [ ] Проект **собирается** (`npm install`, `npm run start`) без ошибок.  
- [ ] На экране **видна 3D-модель** персонажа.  
- [ ] Предметы из JSON **надеты** на модель (зримо меняют внешний вид/слоты заняты).  
- [ ] Слева/справа выведены **все стандартные слоты** WotLK.  
- [ ] **Tooltip** на наведении показывает **название, качество, ilvl, основные бонусы/эффекты**.  
- [ ] В репозитории есть **README с инструкцией по запуску**.  
- [ ] Репозиторий **публичный**, с **историей коммитов** (логичные, маленькие шаги).

---

## 8) Бонус-пункты (необязательно, но приветствуются)

- Темизация (тёмная тема по умолчанию), приятные шрифты/иконки.
- Отрисовка **цвета качества** рамки/названия предмета.
- Поддержка **гемов/чар/сет-бонусов** в tooltip (упрощённо).
- Переключение **персонажей/наборов** (несколько JSON файлов).
- Ленивая загрузка ассетов; простой **кэш** ответов замимга.

---

## 9) Ожидаемая структура репозитория

```
/ (корень)
├─ README.md                 — как запустить/собрать
├─ package.json
├─ angular.json
├─ src/
│  ├─ main.ts
│  ├─ app/
│  │  ├─ app.component.ts    — контейнер страницы
│  │  ├─ character/
│  │  │  ├─ character.store.ts   — signals: персонаж/слоты/выбранный слот
│  │  │  ├─ character-viewer.component.ts — обёртка над wow-model-viewer
│  │  │  ├─ gear-slots.component.ts      — список слотов слева/справа
│  │  │  ├─ item-tooltip.directive.ts    — вывод подсказки
│  │  │  └─ types.ts                     — интерфейсы JSON
│  └─ assets/
│     └─ character.json
└─ ...
```

---

## 10) Как сдавать

1. Разместите код в **публичном репозитории** (GitHub/GitLab/Bitbucket и т.п.).  
2. В `README.md` укажите:
   - Требования к окружению и команды запуска.
   - Короткое описание архитектуры.
   - Что из бонусов сделано.
3. Отправьте ссылку на репозиторий.

---

## 11) Оценивание

Мы смотрим на:

- **Работающий прототип** и соответствие базовым требованиям.
- **Чистоту кода**, типы, структуру, использование **Signals**.
- Понимание работы **wow-model-viewer** и связки с **zamimg**.
- Логику слотов/предметов и корректность отображения.
- Репозиторий: **маленькие осмысленные коммиты**, понятный README.
- Бонусы: UI-приятности, кэширование, тесты, drag&drop и т.д.

---

## 12) Полезные ссылки

- Wow Model Viewer: <https://github.com/Miorey/wow-model-viewer>  
- Wowhead WotLK RU: <https://www.wowhead.com/wotlk/ru>  
- Структура `item_template`: <https://www.azerothcore.org/wiki/item_template>  
- Пример страницы персонажа (Warmane): <https://armory.warmane.com/character/Iamfreezler/Blackrock/summary>

---

Удачи! Если чего-то не хватает в описании — делайте разумные допущения и отражайте их в README.
